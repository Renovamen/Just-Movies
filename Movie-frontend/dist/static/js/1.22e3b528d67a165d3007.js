webpackJsonp([1],{"7Nju":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("BO1k"),s=a.n(i),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"movie-list-item"},[e("div",{staticClass:"image-wrapper"},[this._t("thumbnail")],2),this._v(" "),e("div",{staticClass:"content"},[this._t("title"),this._v(" "),this._t("info"),this._v(" "),this._t("rate")],2)])},staticRenderFns:[]};var o={name:"CategoryPage",components:{MovieListItem:a("VU/8")({name:"MovieListItem"},n,!1,function(t){a("GkeZ")},"data-v-64bb9a2c",null).exports},data:function(){return{category_genres:["全部类型","剧情","爱情","喜剧","科幻","动作","动画","悬疑","犯罪","同性","惊悚","恐怖","音乐","歌舞","传记","历史","战争","西部","奇幻","冒险","灾难","武侠","情色","运动","纪录片","家庭","短片","黑色电影","儿童","古装","戏曲"],category_countries:["全部地区","中国大陆","美国","香港","台湾","日本","韩国","英国","法国","德国","意大利","西班牙","阿根廷","泰国","俄罗斯","伊朗","加拿大","澳大利亚","爱尔兰","瑞典","巴西","丹麦"],tag_gen:"全部类型",tag_cou:"全部地区",movies:[],activeIndex_gen:0,activeIndex_cou:0,pageID:1,totalMovie:0,noImg:'this.src="'+a("elGu")+'"'}},created:function(){this.getMoviesByTag(this.tag_gen,this.tag_cou,this.pageID)},methods:{selectTag_Gen:function(t){this.tag_gen=this.category_genres[t],this.movies=[],this.activeIndex_gen=t,this.getMoviesByTag(this.tag_gen,this.tag_cou,this.pageID)},selectTag_Cou:function(t){this.tag_cou=this.category_countries[t],this.movies=[],this.activeIndex_cou=t,this.getMoviesByTag(this.tag_gen,this.tag_cou,this.pageID)},changePage:function(t){this.pageID=t,this.getMoviesByTag(this.tag_gen,this.tag_cou,this.pageID)},getMoviesByTag:function(t,e,a){var i=this;this.$http.get("../../static/films.json").then(function(n){for(var o=[],r=n.data.length,c=0;c<r;c++){var l=0,g=!0,v=!1,u=void 0;try{for(var _,h=s()(n.data[c].genres);!(g=(_=h.next()).done);g=!0){if(_.value==t||"全部类型"==t){var d=!0,f=!1,m=void 0;try{for(var p,y=s()(n.data[c].countries);!(d=(p=y.next()).done);d=!0){p.value!=e&&"全部地区"!=e||(l=1)}}catch(t){f=!0,m=t}finally{try{!d&&y.return&&y.return()}finally{if(f)throw m}}}}}catch(t){v=!0,u=t}finally{try{!g&&h.return&&h.return()}finally{if(v)throw u}}1==l&&o.push(n.data[c])}var C,I=10*(a-1);C=I+10>=n.data.length?n.data.length:I+10,i.movies=o.slice(I,C),console.log(i.movies),i.totalMovie=o.length}).catch(function(t){console.log("CategoryPage Get 'getCategory/:genre/:country' Error: ",t)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-page"},[a("a-row",[a("a-col",{attrs:{span:4}}),t._v(" "),a("a-col",{attrs:{span:16}},[a("ul",{staticClass:"tags"},t._l(t.category_genres,function(e,i){return a("li",{key:e,staticClass:"tag",class:{active:i===t.activeIndex_gen},on:{click:function(e){return t.selectTag_Gen(i)}}},[t._v(t._s(e))])}),0),t._v(" "),a("ul",{staticClass:"tags"},t._l(t.category_countries,function(e,i){return a("li",{key:e,staticClass:"tag",class:{active:i===t.activeIndex_cou},on:{click:function(e){return t.selectTag_Cou(i)}}},[t._v(t._s(e))])}),0),t._v(" "),a("ul",{staticClass:"movie-list"},t._l(t.movies,function(e){return a("router-link",{key:e._id,staticClass:"movie-item",attrs:{tag:"li",to:{name:"MovieDetail",params:{id:e._id}}}},[a("movie-list-item",[a("img",{staticClass:"image",attrs:{slot:"thumbnail",src:e.poster,alt:"",onerror:t.noImg},slot:"thumbnail"}),t._v(" "),a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"info",attrs:{slot:"info"},slot:"info"},[t._v(t._s(e.pubdate.join(" / ")))]),t._v(" "),e.rating.average?a("div",{staticClass:"rate",attrs:{slot:"rate"},slot:"rate"},[a("a-rate",{attrs:{defaultValue:e.rating.average/2,allowHalf:"",disabled:""}}),t._v(" "),a("span",{staticClass:"average"},[t._v(t._s(e.rating.average))]),t._v(" ("+t._s(e.rating.rating_people)+"人评价)\n            ")],1):a("div",{staticClass:"rate",attrs:{slot:"rate"},slot:"rate"},[t._v("暂无评分")])])],1)}),1),t._v(" "),a("div",{staticClass:"pagination"},[a("a-pagination",{attrs:{showQuickJumper:"",defaultCurrent:1,defaultPageSize:20,total:t.totalMovie},on:{change:t.changePage}})],1)])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("SCM+")},"data-v-104e875f",null);e.default=c.exports},GkeZ:function(t,e){},"SCM+":function(t,e){}});
//# sourceMappingURL=1.22e3b528d67a165d3007.js.map