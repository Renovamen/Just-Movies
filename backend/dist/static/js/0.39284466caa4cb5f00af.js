webpackJsonp([0],{"F2+7":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={name:"MovieRate",props:{movie:{type:Object,default:{}}},methods:{Total:function(t){var s=0;for(var a in t)s+=parseInt(t[a]);return s},Percent:function(t,s){return(t/this.Total(s)*100).toFixed(1)}}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"movie-rate"},[a("div",{staticClass:"rate"},[t._v("评分")]),t._v(" "),a("div",{staticClass:"score-wrapper"},[a("div",{staticClass:"score"},[t._v(t._s(t.movie.rating_average))]),t._v(" "),a("div",{staticClass:"star-comments"},[a("div",{staticClass:"star"},[a("a-rate",{attrs:{defaultValue:t.movie.rating_average/2,allowHalf:"",disabled:""}})],1),t._v(" "),a("div",{staticClass:"comments"},[t._v("\n        已有"+t._s(t.movie.rating_people)+"人评价\n      ")])])]),t._v(" "),a("ul",{staticClass:"rating-bar-list"},t._l(t.movie.rating_stars,function(s,i){return a("li",{key:i,staticClass:"rating-bar"},[a("div",{staticClass:"index"},[t._v(t._s(5-i)+"星")]),t._v(" "),a("div",{staticClass:"bar",style:{width:t.Percent(s,t.movie.rating_stars)+"%"}}),t._v(" "),a("div",{staticClass:"percent"},[t._v(t._s(t.Percent(s,t.movie.rating_stars))+"%")])])}),0)])},staticRenderFns:[]};var n=a("VU/8")(i,e,!1,function(t){a("JqrQ")},"data-v-3e107f06",null).exports,v={name:"MovieIntroduction",props:{movie:{type:Object,default:{}}},data:function(){return{noImg:'this.src="'+a("elGu")+'"'}},methods:{concatPub:function(t){return Util.concatPubdates(t," / ")},concatAli:function(t){return Util.concatAlias(t," / ")}}},o={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"movie-introduction"},[a("a-row",[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"poster-wrapper"},[a("img",{staticClass:"poster",attrs:{src:t.movie.poster,alt:"",onerror:t.noImg}})])]),t._v(" "),a("a-col",{attrs:{span:16}},[a("div",{staticClass:"introduction"},[a("div",{staticClass:"item"},[a("span",{staticClass:"item-key"},[t._v("导演: ")]),t._v(" "),t._l(t.movie.director,function(s){return a("span",{key:s.id,staticClass:"item-value"},[t._v(t._s(s.name))])})],2),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-key"},[t._v("编剧: ")]),t._v(" "),t._l(t.movie.writer,function(s){return a("span",{key:s.id,staticClass:"item-value"},[t._v(t._s(s.name))])})],2),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-key"},[t._v("主演: ")]),t._v(" "),t._l(t.movie.casts,function(s){return a("span",{key:s.id,staticClass:"item-value"},[t._v(t._s(s.name))])})],2),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-key"},[t._v("类型: ")]),t._v(" "),t._l(t.movie.genres,function(s){return a("span",{key:s.id,staticClass:"item-value"},[t._v(t._s(s.genre))])})],2),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-key"},[t._v("国家: ")]),t._v(" "),t._l(t.movie.countries,function(s){return a("span",{key:s.id,staticClass:"item-value"},[t._v(t._s(s.country))])})],2),t._v(" "),a("div",{staticClass:"info"},[a("span",{staticClass:"info-key"},[t._v("语言: ")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.movie.languages))])]),t._v(" "),a("div",{staticClass:"info"},[a("span",{staticClass:"info-key"},[t._v("上映时间: ")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.movie.pubdate))])]),t._v(" "),a("div",{staticClass:"info"},[a("span",{staticClass:"info-key"},[t._v("片长: ")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.movie.duration))])]),t._v(" "),a("div",{staticClass:"info"},[a("span",{staticClass:"info-key"},[t._v("又名: ")]),t._v(" "),a("span",{staticClass:"info-value"},[t._v(t._s(t.movie.aka))])])])])],1)],1)},staticRenderFns:[]};var r={name:"MovieDetail",data:function(){return{movie:{}}},components:{MovieRate:n,MovieIntroduction:a("VU/8")(v,o,!1,function(t){a("eeeW")},"data-v-0e8e77fc",null).exports},created:function(){this.getData()},activated:function(){this.getData()},computed:{movieID:function(){return this.$route.params.id}},methods:{getData:function(){var t=this;this.movie={};var s=this.movieID;this.$http.get("getMovie/"+s).then(function(s){t.movie=s.data,t.movie.rating_stars=[t.movie.stars5,t.movie.stars4,t.movie.stars3,t.movie.stars2,t.movie.stars1]}).catch(function(t){console.log("MovieDetail Get 'getMovie/:id/' Error: ",t)})}}},c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"movie-detail"},[a("a-row",[a("a-col",{attrs:{span:4}}),t._v(" "),a("a-col",{attrs:{span:16}},[a("div",{staticClass:"movie-detail-wrapper"},[a("h1",{staticClass:"title"},[t._v("\n          "+t._s(t.movie.title)+"\n          "),a("span",{staticClass:"year"},[t._v("("+t._s(t.movie.year)+")")])]),t._v(" "),a("a-row",[a("a-col",{attrs:{span:17}},[a("movie-introduction",{attrs:{movie:t.movie}})],1),t._v(" "),a("a-col",{attrs:{span:7}},[a("movie-rate",{attrs:{movie:t.movie}})],1)],1),t._v(" "),a("div",{staticClass:"movie-brief"},[a("h2",{staticClass:"title"},[t._v("剧情简介")]),t._v(" "),a("div",{staticClass:"summary"},[t._v(t._s(t.movie.summary))])])],1)])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("aBuG")},"data-v-187d2ce3",null);s.default=l.exports},JqrQ:function(t,s){},aBuG:function(t,s){},eeeW:function(t,s){}});
//# sourceMappingURL=0.39284466caa4cb5f00af.js.map